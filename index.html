<!DOCTYPE html>
<html lang="en" style="scroll-behavior:auto;">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçë</text></svg>">
<title>TRADERS SELLING THEIR ASS // NOUR TRADES INTELLIGENCE</title>
<script>window.history.scrollRestoration='manual';window.scrollTo(0,0);</script>
<script defer src="/_vercel/insights/script.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XLYG9PBFK7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-XLYG9PBFK7');</script>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--matrix-green:#00ff41;--matrix-dark:#003b00;--matrix-mid:#008f11;--cod-orange:#ff6a00;--cod-red:#ff1744;--cod-yellow:#ffd600;--bg-black:#0a0a0a;--panel-bg:rgba(0,20,0,0.85);--declassified-red:#c0392b}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg-black);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;overflow-x:hidden;cursor:crosshair;width:100%;max-width:100vw}
#matrix-rain{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;opacity:.12}
.scanlines{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,65,.03) 2px,rgba(0,255,65,.03) 4px)}
.crt-flicker{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;animation:flicker .15s infinite;background:rgba(0,255,65,.01)}
@keyframes flicker{0%{opacity:.27}30%{opacity:.66}50%{opacity:.96}70%{opacity:.53}100%{opacity:.24}}
.main-container{position:relative;z-index:2;min-height:100vh}
.declassified-bar{background:var(--declassified-red);padding:6px 0;text-align:center;font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:6px;color:#fff;text-transform:uppercase;animation:threat-blink 2s step-end infinite}
@keyframes threat-blink{0%,100%{opacity:1}50%{opacity:.6}}

/* CTA BANNER */
.cta-banner{background:linear-gradient(135deg,rgba(0,255,65,.08),rgba(255,106,0,.08));border-bottom:1px solid var(--matrix-dark);padding:14px 20px;display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap}
.cta-banner-text{font-size:13px;color:var(--matrix-green);letter-spacing:1px}
.cta-banner-text strong{color:var(--cod-orange)}
.cta-banner-btn{background:var(--cod-red);color:#fff;border:none;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;padding:8px 20px;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block;animation:cta-pulse 2s ease-in-out infinite}
.cta-banner-btn:hover{background:#fff;color:var(--cod-red);box-shadow:0 0 20px rgba(255,23,68,.4)}
@keyframes cta-pulse{0%,100%{box-shadow:0 0 0 0 rgba(255,23,68,.4)}50%{box-shadow:0 0 0 8px rgba(255,23,68,0)}}

/* EMAIL POPUP */
.popup-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:500;justify-content:center;align-items:center;padding:20px;backdrop-filter:blur(4px)}
.popup-overlay.active{display:flex}
.popup-box{background:#0d0d0d;border:1px solid var(--matrix-green);max-width:460px;width:100%;padding:30px;position:relative;animation:file-open .4s ease}
.popup-close{position:absolute;top:12px;right:12px;width:30px;height:30px;background:transparent;border:1px solid var(--cod-red);color:var(--cod-red);font-size:16px;cursor:pointer;font-family:'Share Tech Mono',monospace;display:flex;align-items:center;justify-content:center;transition:all .2s}
.popup-close:hover{background:var(--cod-red);color:#000}
.popup-title{font-family:'Orbitron',sans-serif;font-size:18px;font-weight:700;color:var(--matrix-green);letter-spacing:3px;text-align:center;text-shadow:0 0 10px rgba(0,255,65,.3);margin-bottom:6px}
.popup-sub{font-size:13px;color:var(--matrix-mid);text-align:center;line-height:1.6;margin-bottom:24px}
.popup-form{display:flex;flex-direction:column;gap:14px}
.popup-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.popup-label{font-size:9px;letter-spacing:3px;color:var(--matrix-mid);text-transform:uppercase;margin-bottom:4px;display:block}
.popup-input{background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:14px;padding:10px 12px;outline:none;transition:border-color .2s;width:100%}
.popup-input:focus{border-color:var(--matrix-green);box-shadow:0 0 8px rgba(0,255,65,.1)}
.popup-input::placeholder{color:rgba(0,255,65,.25)}
.popup-btn{background:transparent;border:2px solid var(--matrix-green);color:var(--matrix-green);font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:3px;padding:12px;cursor:pointer;transition:all .3s;margin-top:4px}
.popup-btn:hover{background:var(--matrix-green);color:#000;box-shadow:0 0 20px rgba(0,255,65,.4)}
.popup-btn:disabled{opacity:.5;cursor:not-allowed}
.popup-success{display:none;text-align:center;padding:30px 10px}
.popup-success.show{display:block}
.popup-disclaimer{font-size:9px;color:var(--matrix-dark);text-align:center;margin-top:8px}
@media(max-width:500px){.popup-row{grid-template-columns:1fr}}

/* COMMENTS */
.comments-section{margin-top:16px;border-top:1px solid var(--matrix-dark);padding-top:16px}
.comments-title{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--matrix-mid);margin-bottom:12px}
.comment-form{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
.comment-name{background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--cod-orange);font-family:'Share Tech Mono',monospace;font-size:12px;padding:8px 10px;outline:none;width:120px;transition:border-color .2s}
.comment-input{background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:12px;padding:8px 10px;outline:none;flex:1;min-width:150px;transition:border-color .2s}
.comment-name:focus,.comment-input:focus{border-color:var(--matrix-green)}
.comment-name::placeholder,.comment-input::placeholder{color:rgba(0,255,65,.2)}
.comment-btn{background:transparent;border:1px solid var(--matrix-green);color:var(--matrix-green);font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:2px;padding:8px 14px;cursor:pointer;transition:all .2s;white-space:nowrap}
.comment-btn:hover{background:var(--matrix-green);color:#000}
.comment-btn:disabled{opacity:.4;cursor:not-allowed}
.comments-list{display:flex;flex-direction:column;gap:10px;max-height:300px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--matrix-dark) transparent}
.comments-list::-webkit-scrollbar{width:4px}
.comments-list::-webkit-scrollbar-thumb{background:var(--matrix-dark)}
.comment-item{padding:10px;border:1px solid rgba(0,255,65,.08);background:rgba(0,20,0,.3)}
.comment-author{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;color:var(--cod-orange);margin-bottom:4px}
.comment-time{font-size:9px;color:var(--matrix-dark);margin-left:8px;letter-spacing:1px}
.comment-text{font-size:12px;color:var(--matrix-green);opacity:.8;line-height:1.5}
.comments-loading{font-size:11px;color:var(--matrix-dark);text-align:center;padding:10px}
.no-comments{font-size:11px;color:var(--matrix-dark);text-align:center;padding:10px;font-style:italic}

.header{text-align:center;padding:50px 20px 30px;border-bottom:1px solid var(--matrix-dark)}
.gov-seal{width:80px;height:80px;border:3px solid var(--cod-orange);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;color:var(--cod-orange);position:relative}
.gov-seal::before{content:'';position:absolute;width:92px;height:92px;border:1px solid rgba(255,106,0,.3);border-radius:50%}
.gov-seal-inner{text-align:center;line-height:1.4}
.title-main{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(24px,4.5vw,56px);text-transform:uppercase;letter-spacing:6px;color:var(--cod-red);text-shadow:0 0 10px var(--cod-red),0 0 30px rgba(255,23,68,.4);animation:title-pulse 3s ease-in-out infinite;line-height:1.2}
@keyframes title-pulse{0%,100%{text-shadow:0 0 10px var(--cod-red),0 0 30px rgba(255,23,68,.4)}50%{text-shadow:0 0 20px var(--cod-red),0 0 50px rgba(255,23,68,.6)}}
.subtitle{font-family:'Rajdhani',sans-serif;font-weight:300;font-size:clamp(12px,1.8vw,18px);color:var(--matrix-green);letter-spacing:5px;margin-top:12px;text-transform:uppercase;opacity:.7}
.doc-number{font-size:10px;color:var(--matrix-dark);letter-spacing:3px;margin-top:15px}
.stats-bar{display:flex;justify-content:center;gap:40px;margin-top:30px;flex-wrap:wrap;padding:20px;border-top:1px solid var(--matrix-dark);border-bottom:1px solid var(--matrix-dark);background:rgba(0,20,0,.3)}
.stat-item{text-align:center}
.stat-value{font-family:'Orbitron',sans-serif;font-size:28px;font-weight:700;color:var(--cod-orange);text-shadow:0 0 10px rgba(255,106,0,.5)}
.stat-label{font-size:10px;letter-spacing:3px;color:var(--matrix-mid);margin-top:4px}
.section-header{max-width:1400px;margin:40px auto 20px;padding:0 20px;display:flex;align-items:center;gap:15px}
.section-header::before,.section-header::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,transparent,var(--matrix-dark))}
.section-header::after{background:linear-gradient(90deg,var(--matrix-dark),transparent)}
.section-title{font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:5px;color:var(--cod-yellow);white-space:nowrap}

.mugshot-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;max-width:1400px;margin:0 auto;padding:0 20px 40px}
.mugshot-card{background:var(--panel-bg);border:1px solid var(--matrix-dark);cursor:pointer;transition:all .3s;overflow:hidden;position:relative;opacity:0;transform:translateY(20px);animation:card-enter .5s ease forwards}
@keyframes card-enter{to{opacity:1;transform:translateY(0)}}
.mugshot-card:hover{border-color:var(--cod-orange);box-shadow:0 0 20px rgba(255,106,0,.2);transform:translateY(-4px)}
.declassified-stamp{position:absolute;top:12px;right:12px;z-index:3;background:rgba(192,57,43,.9);color:#fff;font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:3px;padding:3px 10px;border:1px solid rgba(255,255,255,.3);transform:rotate(3deg)}
.risk-badge{position:absolute;top:12px;left:12px;z-index:3;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;padding:4px 10px;border:1px solid}
.risk-critical{background:rgba(255,23,68,.85);color:#fff;border-color:var(--cod-red)}
.risk-high{background:rgba(255,106,0,.85);color:#fff;border-color:var(--cod-orange)}
.risk-elevated{background:rgba(255,214,0,.85);color:#000;border-color:var(--cod-yellow)}
.mugshot-photo{width:100%;height:220px;overflow:hidden;position:relative;border-bottom:2px solid var(--matrix-dark)}
.mugshot-photo img{width:100%;height:100%;object-fit:cover;image-rendering:auto;transition:filter .3s}
.mugshot-card:hover .mugshot-photo img{filter:brightness(1.05)}
.mugshot-photo::after{content:'';position:absolute;bottom:0;left:0;right:0;height:60px;background:linear-gradient(transparent,rgba(0,0,0,.8))}
.mugshot-ruler{position:absolute;bottom:0;left:0;right:0;height:30px;display:flex;align-items:flex-end;padding:0 10px;z-index:2}
.ruler-line{flex:1;border-left:1px solid rgba(0,255,65,.2);height:15px}
.ruler-line:nth-child(5n){border-color:rgba(0,255,65,.5);height:22px}
.mugshot-info{padding:16px}
.mugshot-rank{font-family:'Orbitron',sans-serif;font-size:9px;color:var(--cod-red);letter-spacing:3px;margin-bottom:6px;display:flex;align-items:center;gap:8px}
.mugshot-rank .rank-num{background:var(--cod-red);color:#000;padding:2px 6px;font-weight:700;font-size:10px}
.mugshot-name{font-family:'Orbitron',sans-serif;font-weight:700;font-size:18px;color:var(--cod-orange);letter-spacing:2px;text-shadow:0 0 8px rgba(255,106,0,.3)}
.mugshot-episodes{font-size:10px;color:var(--matrix-mid);letter-spacing:2px;margin-top:4px}
.mugshot-tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:10px}
.tag-sm{padding:2px 6px;border:1px solid var(--matrix-dark);font-size:9px;letter-spacing:1px;color:var(--cod-yellow);background:rgba(255,214,0,.05)}
.market-tag{padding:2px 8px;border-radius:2px;font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:2px;font-weight:700}
.market-stocks{background:rgba(0,255,65,.15);color:var(--matrix-green);border:1px solid var(--matrix-green)}
.market-forex{background:rgba(0,150,255,.15);color:#00aaff;border:1px solid #00aaff}
.market-crypto{background:rgba(255,106,0,.15);color:var(--cod-orange);border:1px solid var(--cod-orange)}

/* FILTER BUTTONS */
.filter-btn{background:transparent;border:1px solid var(--matrix-dark);color:var(--matrix-mid);font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;padding:8px 18px;cursor:pointer;transition:all .2s}
.filter-btn:hover{border-color:var(--matrix-green);color:var(--matrix-green)}
.filter-btn.active{background:var(--matrix-green);color:#000;border-color:var(--matrix-green);box-shadow:0 0 12px rgba(0,255,65,.3)}
.risk-meter{margin-top:12px;display:flex;align-items:center;gap:8px}
.risk-meter-label{font-size:9px;letter-spacing:2px;color:var(--matrix-mid);min-width:65px}
.risk-meter-bar{flex:1;height:8px;background:rgba(0,255,65,.08);border:1px solid var(--matrix-dark);overflow:hidden}
.risk-meter-fill{height:100%}
.risk-meter-val{font-family:'Orbitron',sans-serif;font-size:11px;color:var(--cod-red);min-width:35px;text-align:right}
.mugshot-btn{display:block;margin-top:14px;padding:8px;text-align:center;border:1px solid var(--matrix-green);font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:3px;color:var(--matrix-green);transition:all .3s;background:transparent;cursor:pointer;width:100%}
.mugshot-btn:hover{background:var(--matrix-green);color:#000;box-shadow:0 0 15px rgba(0,255,65,.3)}

/* MODAL */
.modal-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);z-index:100;overflow-y:auto;padding:20px}
.modal-overlay.active{display:block}
.file-container{width:100%;max-width:850px;margin:30px auto;background:#0d0d0d;border:1px solid var(--matrix-green);animation:file-open .5s ease}
@keyframes file-open{0%{transform:scale(.9);opacity:0}100%{transform:scale(1);opacity:1}}
.file-declassified-bar{background:var(--declassified-red);padding:4px 0;text-align:center;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:5px;color:#fff}
.file-header{padding:24px 30px;border-bottom:2px solid var(--cod-red);display:flex;gap:20px;align-items:center;background:rgba(13,13,13,.95);position:sticky;top:0;z-index:5;backdrop-filter:blur(10px)}
.file-mugshot{width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid var(--cod-orange);flex-shrink:0}
.file-mugshot img{width:100%;height:100%;object-fit:cover}
.file-meta{flex:1;min-width:0}
.file-subject-name{font-family:'Orbitron',sans-serif;font-weight:900;font-size:clamp(20px,3.5vw,36px);color:var(--cod-orange);text-shadow:0 0 15px rgba(255,106,0,.4);letter-spacing:3px}
.file-subject-sub{font-size:12px;color:var(--matrix-mid);letter-spacing:2px;margin-top:4px}
.file-close{width:36px;height:36px;background:transparent;border:1px solid var(--cod-red);color:var(--cod-red);font-size:18px;cursor:pointer;font-family:'Share Tech Mono',monospace;transition:all .3s;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.file-close:hover{background:var(--cod-red);color:#000}
.file-body{padding:30px}
.episode-block{margin-bottom:24px;border:1px solid var(--matrix-dark);background:rgba(0,20,0,.3);overflow:hidden}
.episode-header{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;background:rgba(0,255,65,.03);border-bottom:1px solid var(--matrix-dark);cursor:pointer;transition:background .2s}
.episode-header:hover{background:rgba(0,255,65,.07)}
.episode-tag{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;color:var(--cod-orange)}
.episode-toggle{font-size:14px;color:var(--matrix-mid);transition:transform .3s}
.episode-header.open .episode-toggle{transform:rotate(180deg)}
.episode-content{padding:0;max-height:0;overflow:hidden;transition:max-height .5s ease,padding .5s ease}
.episode-content.open{padding:20px;max-height:8000px}
.video-wrapper{margin-bottom:16px;border:1px solid var(--matrix-dark);background:#000;overflow:hidden}
.video-wrapper video{display:block;width:100%;max-height:600px;background:#000}
.reel-watch-link{display:flex;align-items:center;justify-content:center;gap:10px;padding:12px 20px;background:rgba(0,255,65,.03);border:1px solid var(--matrix-dark);margin-bottom:20px;transition:all .2s;text-decoration:none}
.reel-watch-link:hover{background:rgba(0,255,65,.08);border-color:var(--matrix-green)}
.reel-watch-link .icon{font-size:18px}
.reel-watch-link .label{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--matrix-green)}
.reel-watch-link .arrow{font-size:14px;color:var(--cod-orange)}
.evidence-item{padding:12px 0;border-bottom:1px solid rgba(0,255,65,.1);display:flex;gap:12px;align-items:flex-start}
.evidence-item:last-child{border-bottom:none}
.evidence-icon{color:var(--cod-red);font-size:14px;min-width:20px;text-align:center;margin-top:2px}
.evidence-text{font-size:13px;line-height:1.7;color:var(--matrix-green);opacity:.85}
.evidence-text strong{color:var(--cod-orange);font-weight:normal}
.connections-section{margin-top:20px;padding:16px 20px;border:1px dashed var(--matrix-dark);background:rgba(255,106,0,.03)}
.connections-title{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--cod-yellow);margin-bottom:10px}
.connection-tag{display:inline-block;padding:3px 10px;margin:3px 4px 3px 0;border:1px solid var(--cod-orange);font-size:11px;color:var(--cod-orange);cursor:pointer;transition:all .2s}
.connection-tag:hover{background:var(--cod-orange);color:#000}
.verdict-box{text-align:center;padding:25px;border:2px solid var(--cod-red);background:rgba(255,23,68,.05);margin-top:24px}
.verdict-label{font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:4px;color:var(--matrix-mid);margin-bottom:10px}
.verdict-text{font-family:'Orbitron',sans-serif;font-size:20px;font-weight:700;color:var(--cod-red);text-shadow:0 0 15px rgba(255,23,68,.5);letter-spacing:3px}

/* WHISTLEBLOWER */
.whistleblower-section{max-width:850px;margin:0 auto;padding:40px 20px 60px}
.wb-container{border:1px solid var(--matrix-green);background:rgba(0,20,0,.4);padding:30px;position:relative}
.wb-container::before{content:'SECURE CHANNEL';position:absolute;top:-10px;left:20px;background:var(--bg-black);padding:0 12px;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--matrix-green)}
.wb-header{text-align:center;margin-bottom:30px}
.wb-title{font-family:'Orbitron',sans-serif;font-size:clamp(18px,3vw,28px);font-weight:700;color:var(--matrix-green);letter-spacing:3px;text-shadow:0 0 10px rgba(0,255,65,.3)}
.wb-subtitle{font-size:13px;color:var(--matrix-mid);margin-top:8px;line-height:1.6}
.wb-reward{display:inline-block;margin-top:12px;padding:6px 16px;border:1px solid var(--cod-orange);font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;color:var(--cod-orange);background:rgba(255,106,0,.05)}
.wb-form{display:flex;flex-direction:column;gap:16px}
.wb-field{display:flex;flex-direction:column;gap:6px}
.wb-label{font-size:10px;letter-spacing:3px;color:var(--matrix-mid);text-transform:uppercase}
.wb-input,.wb-textarea,.wb-select{background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:14px;padding:12px 14px;outline:none;transition:border-color .2s}
.wb-input:focus,.wb-textarea:focus,.wb-select:focus{border-color:var(--matrix-green);box-shadow:0 0 8px rgba(0,255,65,.1)}
.wb-input::placeholder,.wb-textarea::placeholder{color:rgba(0,255,65,.25)}
.wb-textarea{min-height:120px;resize:vertical}
.wb-select{appearance:none;cursor:pointer}
.wb-select option{background:#0d0d0d;color:var(--matrix-green)}
.wb-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.wb-file-drop{border:2px dashed var(--matrix-dark);padding:30px;text-align:center;transition:all .2s;cursor:pointer;position:relative}
.wb-file-drop:hover,.wb-file-drop.dragover{border-color:var(--matrix-green);background:rgba(0,255,65,.03)}
.wb-file-drop input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer}
.wb-file-icon{font-size:28px;margin-bottom:8px}
.wb-file-text{font-size:12px;color:var(--matrix-mid);letter-spacing:1px}
.wb-file-text strong{color:var(--matrix-green)}
.wb-file-list{margin-top:10px;font-size:11px;color:var(--cod-orange)}
.wb-disclaimer{font-size:10px;color:var(--matrix-dark);line-height:1.6;margin-top:10px;padding:12px;border:1px solid rgba(0,255,65,.1);background:rgba(0,20,0,.3)}
.wb-submit{background:transparent;border:2px solid var(--matrix-green);color:var(--matrix-green);font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:4px;padding:14px 30px;cursor:pointer;transition:all .3s;margin-top:8px}
.wb-submit:hover{background:var(--matrix-green);color:#000;box-shadow:0 0 20px rgba(0,255,65,.4)}
.wb-submit:disabled{opacity:.5;cursor:not-allowed}
.wb-submit.loading{position:relative;color:transparent}
.wb-submit.loading::after{content:'TRANSMITTING...';position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--matrix-green);animation:blink-load .8s step-end infinite}
@keyframes blink-load{0%,100%{opacity:1}50%{opacity:.3}}
.wb-error{color:var(--cod-red);font-size:12px;text-align:center;padding:10px;border:1px solid var(--cod-red);background:rgba(255,23,68,.05);display:none}
.wb-error.show{display:block}
.wb-success{display:none;text-align:center;padding:40px;border:1px solid var(--matrix-green);background:rgba(0,255,65,.03)}
.wb-success.show{display:block}
.wb-success-icon{font-size:40px;margin-bottom:12px}
.wb-success-text{font-family:'Orbitron',sans-serif;font-size:14px;letter-spacing:3px;color:var(--matrix-green)}
.wb-success-sub{font-size:12px;color:var(--matrix-mid);margin-top:8px}

.site-footer{text-align:center;padding:40px 20px 30px;border-top:1px solid var(--matrix-dark)}
.footer-brand{font-family:'Orbitron',sans-serif;font-size:14px;letter-spacing:6px;color:var(--matrix-green);text-shadow:0 0 10px rgba(0,255,65,.3)}
.footer-sub{font-size:10px;color:var(--matrix-dark);letter-spacing:3px;margin-top:8px}
.boot-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:999;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity .8s ease}
.boot-screen.hidden{opacity:0;pointer-events:none}
.boot-text{font-size:14px;color:var(--matrix-green);text-align:left;max-width:600px;line-height:1.8}
.watermark{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-35deg);font-family:'Orbitron',sans-serif;font-size:clamp(50px,10vw,130px);font-weight:900;color:rgba(255,23,68,.03);letter-spacing:20px;pointer-events:none;z-index:1;white-space:nowrap}
@media(max-width:768px){
  .stats-bar{gap:12px;padding:15px 10px}
  .mugshot-grid{grid-template-columns:1fr;padding:0 10px 40px}
  .file-body{padding:15px}
  .file-header{padding:16px;flex-wrap:wrap}
  .wb-row{grid-template-columns:1fr}
  .episode-content.open{padding:15px}
  .cta-banner{flex-direction:column;text-align:center;gap:8px;padding:10px 10px}
  .cta-banner-text{font-size:11px}
  .stat-value{font-size:20px}
  .stat-label{font-size:8px;letter-spacing:2px}
  .title-main{letter-spacing:3px;font-size:clamp(22px,8vw,40px)}
  .section-header{margin:30px auto 15px;padding:0 10px}
  .section-title{font-size:10px;letter-spacing:3px}
  .declassified-bar{font-size:9px;letter-spacing:3px;padding:6px 10px;line-height:1.4}
  .header{padding:30px 10px 20px}
  .mugshot-card{margin:0}
  .main-container{padding:0;width:100%;max-width:100vw;overflow-x:hidden}
  .file-container{margin:10px auto}
  .whistleblower-section{padding:30px 10px 40px}
  .wb-container{padding:20px 15px}
  .popup-box{padding:24px 20px;margin:10px}
}
</style>
</head>
<body>
<div class="boot-screen" id="bootScreen"><div class="boot-text" id="bootText"></div></div>
<canvas id="matrix-rain"></canvas>
<div class="scanlines"></div>
<div class="crt-flicker"></div>
<div class="watermark">DECLASSIFIED</div>

<!-- EMAIL POPUP -->
<div class="popup-overlay" id="emailPopup">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup()">‚úï</button>
    <div id="popupFormWrap">
      <div class="popup-title">üö® SCAM ALERTS</div>
      <div class="popup-sub">Get notified when new scammers get exposed.<br>Be the first to know when episodes drop.</div>
      <form class="popup-form" id="popupForm">
        <div class="popup-row">
          <div>
            <label class="popup-label">First Name</label>
            <input class="popup-input" type="text" id="popupFirst" placeholder="First name" required>
          </div>
          <div>
            <label class="popup-label">Last Name</label>
            <input class="popup-input" type="text" id="popupLast" placeholder="Last name" required>
          </div>
        </div>
        <div>
          <label class="popup-label">Email</label>
          <input class="popup-input" type="email" id="popupEmail" placeholder="your@email.com" required>
        </div>
        <button type="submit" class="popup-btn" id="popupBtn">GET INTEL UPDATES</button>
      </form>
      <div class="popup-disclaimer">No spam. Only fraud alerts. Unsubscribe anytime.</div>
    </div>
    <div class="popup-success" id="popupSuccess">
      <div style="font-size:36px;margin-bottom:12px;">üõ°Ô∏è</div>
      <div style="font-family:'Orbitron',sans-serif;font-size:14px;letter-spacing:3px;color:var(--matrix-green);">YOU'RE IN</div>
      <div style="font-size:12px;color:var(--matrix-mid);margin-top:8px;">Intel updates will hit your inbox when new scammers get exposed.</div>
    </div>
  </div>
</div>

<div class="main-container" id="mainContent" style="opacity:0;">
  <div class="declassified-bar">‚ö† DECLASSIFIED ‚Äî NOUR TRADES INTELLIGENCE DIVISION ‚Äî AUTHORIZED PERSONNEL ONLY ‚ö†</div>

  <!-- CTA BANNER -->
  <div class="cta-banner">
    <span class="cta-banner-text">üö® <strong>Have you been scammed by a trader?</strong> Submit your story anonymously & get paid in crypto.</span>
    <a href="#whistleblower" class="cta-banner-btn">SUBMIT YOUR STORY ‚Üí</a>
  </div>
  <div style="display:flex;justify-content:center;gap:10px;padding:10px 20px;background:rgba(0,20,0,.3);border-bottom:1px solid var(--matrix-dark);flex-wrap:wrap;">
    <a href="https://whop.com/stock-hours/stock-hours/?utm_source=store_page&funnelId=store_1a22da23-8ba1-44d6-a2c3-dea287a26d22" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--matrix-green);text-decoration:none;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;color:var(--matrix-green);text-align:center;justify-content:center;">üí¨ JOIN DISCORD</a>
    <a href="https://vanquish.stockhoursllc.com/nour" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid var(--cod-orange);text-decoration:none;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;color:var(--cod-orange);text-align:center;justify-content:center;">üìà VANQUISH: 50% OFF CODE - NOUR</a>
  </div>

  <header class="header">
    <div class="title-main">TRADERS SELLING<br>THEIR ASS</div>
    <div style="font-family:'Rajdhani',sans-serif;font-size:clamp(14px,2vw,20px);color:var(--cod-orange);letter-spacing:4px;margin-top:8px;text-transform:uppercase;">by Nour Trades</div>
    <div class="subtitle">Fraud Exposure Unit // Intelligence Dossier System</div>
    <div class="doc-number">DOC# NT-TSTA-2026-DECLASSIFIED // DISTRIBUTION: PUBLIC</div>
  </header>

  <div class="stats-bar">
    <div class="stat-item"><div class="stat-value">10</div><div class="stat-label">SUBJECTS IDENTIFIED</div></div>
    <div class="stat-item"><div class="stat-value">17</div><div class="stat-label">EPISODES FILED</div></div>
    <div class="stat-item"><div class="stat-value">$200M+</div><div class="stat-label">EST. COMMUNITY DAMAGE</div></div>
    <div class="stat-item"><div class="stat-value">ACTIVE</div><div class="stat-label">INVESTIGATION STATUS</div></div>
  </div>

  <div class="section-header"><span class="section-title">‚óÜ WANTED ‚Äî RANKED BY RISK FACTOR ‚óÜ</span></div>
  <div style="display:flex;justify-content:center;gap:10px;padding:0 20px 20px;flex-wrap:wrap;">
    <button class="filter-btn active" onclick="filterMarket('ALL')">ALL</button>
    <button class="filter-btn" onclick="filterMarket('STOCKS')">üìä STOCKS</button>
    <button class="filter-btn" onclick="filterMarket('FOREX')">üí± FOREX</button>
    <button class="filter-btn" onclick="filterMarket('CRYPTO')">ü™ô CRYPTO</button>
  </div>
  <div class="mugshot-grid" id="mugGrid"></div>

  <div class="section-header" id="whistleblower"><span class="section-title">‚óÜ WHISTLEBLOWER SUBMISSION ‚Äî SECURE CHANNEL ‚óÜ</span></div>
  <div class="whistleblower-section">
    <div class="wb-container">
      <div class="wb-header">
        <div class="wb-title">üõ°Ô∏è REPORT A SCAM TRADER</div>
        <div class="wb-subtitle">Have you been scammed by a trader or influencer? Submit your story anonymously.<br>If we use your intel in our videos, we'll send crypto to your wallet as a reward.</div>
        <div class="wb-reward">üí∞ BOUNTY PAID IN CRYPTO FOR VERIFIED INTEL</div>
      </div>
      <form class="wb-form" id="wbForm">
        <div class="wb-row">
          <div class="wb-field">
            <label class="wb-label">Name of Influencer / Trader</label>
            <input class="wb-input" type="text" id="wbName" placeholder="Who scammed you?" required>
          </div>
          <div class="wb-field">
            <label class="wb-label">What is their Social Media?</label>
            <input class="wb-input" type="text" id="wbSocial" placeholder="@handle or link to their profile" required>
          </div>
        </div>
        <div class="wb-field">
          <label class="wb-label">How Much Did They Scam? (Estimated $)</label>
          <input class="wb-input" type="text" id="wbAmount" placeholder="$0.00" required>
        </div>
        <div class="wb-field">
          <label class="wb-label">What Did They Do? (Be specific ‚Äî dates, details, receipts)</label>
          <textarea class="wb-textarea" id="wbDescription" placeholder="Describe exactly how you were scammed. The more details, the better our investigation..." required></textarea>
        </div>
        <div class="wb-field">
          <label class="wb-label">Upload Proof (Screenshots, Videos, Receipts)</label>
          <div class="wb-file-drop" id="fileDrop">
            <input type="file" multiple accept="image/*,video/*,.pdf" id="fileInput">
            <div class="wb-file-icon">üìÅ</div>
            <div class="wb-file-text">Drag files here or <strong>click to browse</strong><br>Images, videos, PDFs accepted (max 50MB each)</div>
            <div class="wb-file-list" id="fileList"></div>
          </div>
        </div>
        <div class="wb-field">
          <label class="wb-label">Your Crypto Wallet Address (For Bounty Payment)</label>
          <input class="wb-input" type="text" id="wbWallet" placeholder="BTC, ETH, SOL, or USDT wallet address" required>
        </div>
        <div class="wb-disclaimer">üîí YOUR IDENTITY STAYS ANONYMOUS. We never reveal sources. Only your wallet address is stored for payment. All submissions are reviewed by the Nour Trades intelligence team. If your intel is featured in an episode, payment is sent within 48 hours.</div>
        <div class="wb-error" id="wbError"></div>
        <button type="submit" class="wb-submit" id="wbSubmitBtn">‚óà SUBMIT INTEL ‚Äî STAY ANONYMOUS</button>
      </form>
      <div class="wb-success" id="wbSuccess">
        <div class="wb-success-icon">üõ°Ô∏è</div>
        <div class="wb-success-text">INTEL RECEIVED</div>
        <div class="wb-success-sub">Your submission is being reviewed by the Nour Trades intelligence team.<br>If used, bounty will be sent to your wallet within 48 hours.</div>
      </div>
    </div>
  </div>

  <!-- EMAIL SIGNUP -->
  <div class="section-header"><span class="section-title">‚óÜ INTEL UPDATES ‚Äî STAY IN THE KNOW ‚óÜ</span></div>
  <div style="max-width:650px;margin:0 auto;padding:0 20px 40px;">
    <div style="border:1px solid var(--matrix-green);background:rgba(0,20,0,.4);padding:30px;position:relative;">
      <div style="position:absolute;top:-10px;left:20px;background:var(--bg-black);padding:0 12px;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:3px;color:var(--matrix-green);">MAILING LIST</div>
      <div style="text-align:center;margin-bottom:24px;">
        <div style="font-family:'Orbitron',sans-serif;font-size:clamp(16px,2.5vw,22px);font-weight:700;color:var(--matrix-green);letter-spacing:3px;text-shadow:0 0 10px rgba(0,255,65,.3);">üö® GET NOTIFIED WHEN SCAMMERS GET EXPOSED</div>
        <div style="font-size:13px;color:var(--matrix-mid);margin-top:8px;line-height:1.6;">Be the first to know when new episodes drop and new traders get added to the list.</div>
      </div>
      <form id="emailForm" style="display:flex;gap:12px;flex-wrap:wrap;">
        <input type="email" id="emailInput" placeholder="Enter your email..." required style="flex:1;min-width:200px;background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:14px;padding:12px 14px;outline:none;transition:border-color .2s;">
        <button type="submit" id="emailBtn" style="background:transparent;border:2px solid var(--matrix-green);color:var(--matrix-green);font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;padding:12px 24px;cursor:pointer;transition:all .3s;white-space:nowrap;">SUBSCRIBE</button>
      </form>
      <div id="emailSuccess" style="display:none;text-align:center;padding:16px;border:1px solid var(--matrix-green);background:rgba(0,255,65,.03);margin-top:12px;">
        <span style="font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:3px;color:var(--matrix-green);">‚úÖ YOU'RE IN ‚Äî INTEL INCOMING</span>
      </div>
      <div id="emailError" style="display:none;text-align:center;padding:10px;border:1px solid var(--cod-red);background:rgba(255,23,68,.05);margin-top:12px;font-size:12px;color:var(--cod-red);"></div>
    </div>
  </div>

  <!-- NOUR TRADES LINKS -->
  <div class="section-header"><span class="section-title">‚óÜ JOIN THE MOVEMENT ‚óÜ</span></div>
  <div style="max-width:850px;margin:0 auto;padding:0 20px 40px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;">
    <a href="https://whop.com/stock-hours/stock-hours/?utm_source=store_page&funnelId=store_1a22da23-8ba1-44d6-a2c3-dea287a26d22" target="_blank" rel="noopener" style="display:block;border:1px solid var(--matrix-green);background:rgba(0,255,65,.03);padding:28px 20px;text-align:center;text-decoration:none;transition:all .3s;">
      <div style="font-size:32px;margin-bottom:10px;">üí¨</div>
      <div style="font-family:'Orbitron',sans-serif;font-size:14px;letter-spacing:3px;color:var(--matrix-green);margin-bottom:8px;">JOIN THE DISCORD</div>
      <div style="font-size:12px;color:var(--matrix-mid);line-height:1.5;">Join Nour's community. Live trading, intel drops, and giveaways.</div>
    </a>
    <a href="https://vanquish.stockhoursllc.com/nour" target="_blank" rel="noopener" style="display:block;border:1px solid var(--cod-orange);background:rgba(255,106,0,.03);padding:28px 20px;text-align:center;text-decoration:none;transition:all .3s;">
      <div style="font-size:32px;margin-bottom:10px;">üìà</div>
      <div style="font-family:'Orbitron',sans-serif;font-size:14px;letter-spacing:3px;color:var(--cod-orange);margin-bottom:8px;">VANQUISH TRADER</div>
      <div style="font-size:12px;color:var(--matrix-mid);line-height:1.5;">First regulated options prop firm. Accounts $10K‚Äì$150K.</div>
      <div style="margin-top:12px;display:inline-block;padding:6px 16px;border:2px solid var(--cod-red);font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;color:var(--cod-red);animation:threat-blink 1.5s step-end infinite;">USE CODE NOUR ‚Äî 50% OFF</div>
    </a>
  </div>

  <footer class="site-footer">
    <div class="footer-brand">NOUR TRADES INTELLIGENCE DIVISION</div>
    <div class="footer-sub">PROTECTING THE COMMUNITY // ALL INTEL DOCUMENTED // EST. 2024</div>
    <div style="max-width:600px;margin:20px auto 0;padding:12px;border:1px solid rgba(0,255,65,.1);background:rgba(0,20,0,.3);font-size:9px;color:var(--matrix-dark);line-height:1.6;text-align:center;">LEGAL DISCLAIMER: All content on this website represents personal opinions, commentary, and criticism protected under the First Amendment of the United States Constitution. All claims are based on publicly available information and personal observations. This website does not constitute legal advice or formal accusations. Viewers are encouraged to conduct their own research and form their own conclusions.</div>
  </footer>
</div>

<div class="modal-overlay" id="modalOverlay">
  <div class="file-container" id="fileContainer"></div>
</div>

<script>
// ========== SUPABASE CONFIG (loaded async) ==========
const SUPABASE_URL = 'https://kjeqzwfxtshgerzkaiqg.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqZXF6d2Z4dHNoZ2VyemthaXFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4OTcyNTEsImV4cCI6MjA4NzQ3MzI1MX0.nypjzpnw2hvRWpQ-KxJQvpecDZSiruG5Bm5ixWbSD0I';
let supabaseClient = null;

// Load Supabase SDK async so it doesn't block the page
(function loadSupabase(){
  const s = document.createElement('script');
  s.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';
  s.onload = function(){
    supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    console.log('Supabase connected');
  };
  s.onerror = function(){ console.warn('Supabase SDK failed to load ‚Äî form will show error on submit'); };
  document.head.appendChild(s);
})();

// ========== SUBJECT DATA ==========
const subjects=[
{codename:"TJR",rank:1,riskLevel:98,riskClass:"critical",status:"REPEAT OFFENDER",markets:["FOREX","CRYPTO"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/tjr.jpg",tags:["PROP FIRM SCAM","RUG PULLS","MEME COIN FRAUD","MARKET MANIPULATION","HEROFX"],summary:"5 episodes. Rug pulled One of One Funding, HeroFX revenue share, 4 meme coin rug pulls.",connections:["FXALEXG","LAMBO RAUL"],episodes:[
{title:"EP 1 ‚Äî SELLING FUNDED ACCOUNTS",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep1.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DR245vQkwN0/",evidence:[{icon:"‚ö°",text:"Selling his ass for <strong>40% off funded accounts</strong>. Funded companies don't make money unless you fail."},{icon:"üíÄ",text:"TJR rakes in money every time his followers <strong>buy and fail funded accounts</strong>."}]},
{title:"EP 11 ‚Äî HEROFX REBATES & REVENUE SHARE",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep11.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DS5mY7CDky3/",evidence:[{icon:"‚ö°",text:"Posted <strong>6 prop firms with 6 discount codes</strong> in a single day."},{icon:"üî¥",text:"<strong>Rebate deal with HeroFX</strong> ‚Äî unregulated offshore broker illegal for Americans."},{icon:"üíÄ",text:"<strong>Revenue share of 40-50%+</strong> of money followers lose. $3.5-4M collected."},{icon:"üìâ",text:"Everything TJR does ‚Äî <strong>through followers losing money</strong>."},{icon:"‚ö†Ô∏è",text:"The Koenigsegg? <strong>You're paying for it.</strong>"}]},
{title:"EP 12 ‚Äî THE HYPOCRITE",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep12.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DTYfO6Rjgg8/",evidence:[{icon:"‚ö°",text:"Said <strong>mentorships are scams</strong>. Then dropped his own course."},{icon:"üî¥",text:"<strong>Koenigsegg up for sale</strong> ‚Äî marketing done."},{icon:"‚ö†Ô∏è",text:"<strong>$100K open bet</strong>: show real trading profits."}]},
{title:"EP 14 ‚Äî ONE OF ONE FUNDING RUG PULL",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep14.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DUT17-hibay/",evidence:[{icon:"‚ö°",text:"Created <strong>One of One Funding</strong>."},{icon:"üíÄ",text:"Moved corp from Florida to <strong>Puerto Rico</strong> before rug pull."},{icon:"üî¥",text:"Told members to <strong>cancel disputes</strong>."},{icon:"üìâ",text:"<strong>Failed to pay millions.</strong> Vanished."},{icon:"‚ö†Ô∏è",text:"<strong>Unregulated CFDs</strong> ‚Äî editable backend."},{icon:"üé≠",text:"<strong>Complete fraud.</strong>"}]},
{title:"EP 17 ‚Äî MEME COIN RUG PULLS",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep17.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DVHEIS2ju0i/",evidence:[{icon:"‚ö°",text:"Told <strong>88,000 live viewers</strong> to pump a meme stock."},{icon:"üíÄ",text:"<strong>4 meme coins rug pulled</strong>. Wallet leaked."},{icon:"üî¥",text:"<strong>$HUZZ</strong> ‚Äî pumped daily, rug pulled."},{icon:"üìâ",text:"<strong>$DIDDY, $OPSEC, $BERT</strong> ‚Äî all rug pulls."},{icon:"üé≠",text:"Target: <strong>young people with the least money.</strong>"}]}
],verdict:"SERIAL SCAMMER ‚Äî PENDING SEC INDICTMENT"},
{codename:"FXALEXG",rank:2,riskLevel:94,riskClass:"critical",status:"WANTED",markets:["FOREX"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/fxalexg.jpg",tags:["B-BOOK BROKER","$25M+ COURSES","CFDs","ROCKET21"],summary:"3 episodes. Owns forex broker (B-book), $25M+ from courses. Doesn't trade.",connections:["LAMBO RAUL","ETHAN DURAN","TJR"],episodes:[
{title:"EP 5 ‚Äî BROKER WHO DOESN'T TRADE",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep5.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSAnXn-AcLi/",evidence:[{icon:"‚ö°",text:"Does he trade? <strong>Absolutely not.</strong>"},{icon:"üíÄ",text:"<strong>When you lose, Alex collects.</strong>"},{icon:"üî¥",text:"Can <strong>wick you out</strong>."},{icon:"‚ö†Ô∏è",text:"Last real trade? <strong>Maybe six years ago.</strong>"},{icon:"üé≠",text:"Broker manipulation = <strong>fraud</strong>."}]},
{title:"EP 13 ‚Äî $25M+ FROM COURSES",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep13.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DUBwlRikkd4/",evidence:[{icon:"‚ö°",text:"<strong>7,000 √ó $2,000 = $14M</strong> from Discord alone."},{icon:"üíÄ",text:"<strong>$25M+ total</strong> from courses."},{icon:"üî¥",text:"<strong>Rocket 21</strong> ‚Äî never forgot."}]},
{title:"EP 16 ‚Äî ADMITS BROKER AFFILIATION",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep16.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DUq7xHNCfjz/",evidence:[{icon:"‚ö°",text:"Says he's <strong>\"heavily affiliated with a broker.\"</strong>"},{icon:"üíÄ",text:"<strong>90%+ on B-book.</strong> They keep everything you lose."},{icon:"üî¥",text:"<strong>CFDs ‚Äî illegal in America.</strong>"},{icon:"‚ö†Ô∏è",text:"<strong>Operate offshore.</strong>"}]}
],verdict:"BROKER FRAUD ‚Äî $25M+ FROM FOLLOWERS"},
{codename:"LAMBO RAUL",rank:3,riskLevel:90,riskClass:"critical",status:"WANTED",markets:["FOREX"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/lambo.png",tags:["$7M ALGO FRAUD","SCAMBO RAUL","PROP FIRM"],summary:"AKA Scambo Raul. $7M from fraudulent algo bot drops.",connections:["FXALEXG","ETHAN DURAN"],episodes:[
{title:"EP 6 ‚Äî $7M IN ALGO FRAUD",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep6.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSDwt5pE3Dh/",evidence:[{icon:"‚ö°",text:"AKA <strong>Scambo Raul</strong>."},{icon:"üíÄ",text:"Two algo drops. <strong>~$7 million total.</strong>"},{icon:"üî¥",text:"<strong>No such thing as a trading algo</strong> ‚Äî fraud."},{icon:"‚ö†Ô∏è",text:"FXAlexG learned <strong>the playbook from him</strong>."}]}
],verdict:"SCAMBO ‚Äî $7M ALGO FRAUD"},
{codename:"ETHAN DURAN",rank:4,riskLevel:88,riskClass:"high",status:"WANTED",markets:["FOREX","CRYPTO"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/ethan.jpg",tags:["BUGATTI MARKETING","ALGO SCAM","HOUSE RAIDED","NOT A TRADER"],summary:"Not a trader. Bugatti bought for marketing, sold 1 month later. House raided.",connections:["FXALEXG","LAMBO RAUL"],episodes:[
{title:"EP 7 ‚Äî NON-TRADER SELLING ALGO",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep7.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSI_VqyE2Mi/",evidence:[{icon:"‚ö°",text:"<strong>Not even a trader.</strong>"},{icon:"üíÄ",text:"Selling <strong>an algo that trades for you</strong>."},{icon:"üî¥",text:"<strong>House raided</strong> by Miami PD/FBI."},{icon:"üìâ",text:"<strong>Tri-State scammer.</strong> Friend locked up for wire fraud."}]},
{title:"EP 10 ‚Äî BUGATTI MARKETING",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep10.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSc9wpTDsPC/",evidence:[{icon:"‚ö°",text:"Bugatti <strong>back for sale after ONE MONTH</strong>."},{icon:"üíÄ",text:"Buy Bugatti ‚Üí promote ‚Üí <strong>sell algo bot</strong>."},{icon:"üî¥",text:"<strong>Already made his money</strong> from the scam."}]}
],verdict:"BUGATTI BAIT ‚Äî NOT EVEN A TRADER"},
{codename:"SCARFACE TRADES",rank:5,riskLevel:86,riskClass:"high",status:"WANTED",markets:["STOCKS"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/scarface.jpg",tags:["INSPECT ELEMENT","FAKE P&L","TELEKINESIS TRADING"],summary:"Faked January statements with Inspect Element. Caught 'trading' without clicking.",connections:[],episodes:[
{title:"EP 15 ‚Äî INSPECT ELEMENT FRAUD",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep15.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DUd-UrcDkvE/",evidence:[{icon:"‚ö°",text:"<strong>Faked statements</strong> ‚Äî math didn't add up."},{icon:"üíÄ",text:"<strong>\"Telekinesis\" trading</strong> ‚Äî no buttons clicked."},{icon:"üî¥",text:"<strong>Blocked the URL bar</strong> on purpose."},{icon:"üìâ",text:"Uses <strong>Inspect Element</strong> repeatedly."},{icon:"‚ö†Ô∏è",text:"<strong>Left DM on read.</strong>"},{icon:"üé≠",text:"Hangs with <strong>your favorite traders</strong>."}]}
],verdict:"INSPECT ELEMENT FRAUD"},
{codename:"SCI",rank:6,riskLevel:84,riskClass:"high",status:"WANTED",markets:["FOREX"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/sci.webp",tags:["$100M OFFSHORE LIE","UNREGULATED BROKER","PROMOTED BY UMAR"],summary:"Claims $100M in unregulated offshore broker. Makes money from deposits.",connections:["UMAR ASHRAF"],episodes:[
{title:"EP 9 ‚Äî THE $100M OFFSHORE LIE",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep9.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSS9yJVidQB/",evidence:[{icon:"‚ö°",text:"Promoted by <strong>TradeZella and Umar Ashraf</strong>."},{icon:"üíÄ",text:"<strong>Unregulated offshore broker</strong>."},{icon:"üî¥",text:"Claims <strong>$100M</strong> in a vanishable broker."},{icon:"‚ö†Ô∏è",text:"<strong>Challenge:</strong> deposit $20M into Schwab. Nour deletes IG."}]}
],verdict:"$100M OFFSHORE LIE"},
{codename:"UMAR ASHRAF",rank:7,riskLevel:82,riskClass:"high",status:"WHITE FLAG",markets:["STOCKS"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/umar.jpg",tags:["STOCK MARKET LAB","LEASED MCLAREN","COURSE SELLER"],summary:"Selling courses since 2014 when allegedly not profitable. Leased McLaren.",connections:["USMAN ASHRAF","MASITRADES","SCI"],episodes:[
{title:"EP 3.5 ‚Äî COMMENT AND DELETE",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep3half.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DR8i-c7CUkT/",evidence:[{icon:"‚ö°",text:"Commented then <strong>deleted it</strong>."},{icon:"üíÄ",text:"Brothers <strong>didn't talk for years</strong>."},{icon:"üî¥",text:"Courses since <strong>2014</strong>. $100K bet."},{icon:"üìâ",text:"McLaren 570S <strong>LEASED</strong>."}]},
{title:"EP 4 ‚Äî THE WHITE FLAG",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep4.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DR-GrmZgbaT/",evidence:[{icon:"‚ö°",text:"<strong>Threw the white flag.</strong>"},{icon:"üíÄ",text:"<strong>Umar was the one known for drugs</strong> in Staten Island."},{icon:"üî¥",text:"<strong>$100K bet stands.</strong>"}]}
],verdict:"EXPOSED ‚Äî WHITE FLAG THROWN"},
{codename:"JDUN TRADES",rank:8,riskLevel:80,riskClass:"elevated",status:"WANTED",markets:["STOCKS"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/jdun.png",tags:["PAPER TRADING PARTNER","TRADIFY","PROP FIRM"],summary:"Partner exposed for paper trading. Now selling Tradify funded accounts.",connections:[],episodes:[
{title:"EP 2 ‚Äî PAPER TRADING PARTNER",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep2.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DR5aCiuE8Ku/",evidence:[{icon:"‚ö°",text:"Partner <strong>exposed for paper trading</strong>."},{icon:"üíÄ",text:"<strong>What's JDun doing?</strong>"},{icon:"üî¥",text:"Selling <strong>Tradify</strong> accounts."},{icon:"üìâ",text:"Cars <strong>funded by your losses</strong>."}]}
],verdict:"UNVERIFIED ‚Äî PAPER TRAIL"},
{codename:"USMAN ASHRAF",rank:9,riskLevel:78,riskClass:"elevated",status:"WANTED",markets:["STOCKS"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/usman.jpg",tags:["SIGNAL SPAMMER","DISCOUNT CODES","CHEAP AD SPEND"],summary:"25 discount codes in one Thanksgiving week. Tantrums over ad spend.",connections:["UMAR ASHRAF"],episodes:[
{title:"EP 3 ‚Äî 25 DISCOUNT CODES",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep3.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DR8Rr6Uk9U1/",evidence:[{icon:"‚ö°",text:"<strong>25 discount codes</strong> in one week."},{icon:"üíÄ",text:"Posts $50K profits, <strong>spams 150 stories</strong>."},{icon:"üî¥",text:"<strong>Tantrums over ad spend.</strong>"}]}
],verdict:"SIGNAL SPAMMER"},
{codename:"MASITRADES",rank:10,riskLevel:72,riskClass:"elevated",status:"EXPOSED",markets:["STOCKS"],image:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/images/masi.jpg",tags:["PHOTOSHOPPED TRADES","KICKED FROM SML"],summary:"Kicked from Stock Market Lab for photoshopping trades.",connections:["UMAR ASHRAF","USMAN ASHRAF"],episodes:[
{title:"EP 8 ‚Äî KICKED FROM STOCK MARKET LAB",video:"https://kjeqzwfxtshgerzkaiqg.supabase.co/storage/v1/object/public/videos/ep8.mp4",reelUrl:"https://www.instagram.com/nourtrades/reel/DSLfXPVEyzg/",evidence:[{icon:"‚ö°",text:"Kicked for <strong>faking trades</strong>."},{icon:"üíÄ",text:"<strong>Photoshopping everything.</strong>"},{icon:"üî¥",text:"Umar <strong>announced live she was fraud</strong>."},{icon:"üìâ",text:"Back <strong>making content</strong> as if nothing happened."}]}
],verdict:"PHOTOSHOP FRAUD"}
];

// ========== MATRIX ==========
const canvas=document.getElementById('matrix-rain'),ctx=canvas.getContext('2d');
function rc(){canvas.width=innerWidth;canvas.height=innerHeight}rc();addEventListener('resize',rc);
const ch='„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥0123456789',fs=14;let col=~~(canvas.width/fs),dr=Array(col).fill(1);
function dm(){ctx.fillStyle='rgba(0,0,0,0.05)';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#00ff41';ctx.font=fs+'px monospace';for(let i=0;i<dr.length;i++){ctx.fillText(ch[~~(Math.random()*ch.length)],i*fs,dr[i]*fs);if(dr[i]*fs>canvas.height&&Math.random()>.975)dr[i]=0;dr[i]++}}
setInterval(dm,35);addEventListener('resize',()=>{col=~~(canvas.width/fs);dr=Array(col).fill(1)});

// ========== BOOT ==========
async function runBoot(){const bt=document.getElementById('bootText'),bs=document.getElementById('bootScreen');const lines=["> NOUR TRADES INTELLIGENCE SYSTEM v2.0","> LOADING DECLASSIFIED DOSSIERS............ [OK]","> SECURE CHANNEL....................... [CONNECTED]","> SUBJECTS: 10 // EPISODES: 17","> WHISTLEBLOWER CHANNEL: ENCRYPTED","> RISK ASSESSMENT: COMPLETE","","> ACCESS GRANTED."];for(let l of lines){const el=document.createElement('div');bt.appendChild(el);for(let i=0;i<l.length;i++){el.textContent=l.substring(0,i+1);await new Promise(r=>setTimeout(r,10+Math.random()*18))}await new Promise(r=>setTimeout(r,120))}await new Promise(r=>setTimeout(r,400));bs.classList.add('hidden');document.getElementById('mainContent').style.opacity='1';document.getElementById('mainContent').style.transition='opacity 1s ease';triggerPopup()}
runBoot();
window.scrollTo(0,0);

// ========== MUGSHOT CARDS ==========
const grid=document.getElementById('mugGrid');
subjects.forEach((s,idx)=>{
  const card=document.createElement('div');card.className='mugshot-card';card.style.animationDelay=`${idx*.06}s`;card.onclick=()=>openFile(idx);
  const riskLabel=s.riskLevel>=90?'CRITICAL':s.riskLevel>=80?'HIGH':'ELEVATED';
  const riskColor=s.riskLevel>=90?'linear-gradient(90deg,#ff1744,#ff6a00)':s.riskLevel>=80?'linear-gradient(90deg,#ff6a00,#ffd600)':'linear-gradient(90deg,#ffd600,#00ff41)';
  const n=s.episodes.length,t=n===1?'1 EPISODE':n+' EPISODES';
  card.innerHTML=`<div class="declassified-stamp">DECLASSIFIED</div><div class="risk-badge risk-${s.riskClass}">${riskLabel}</div><div class="mugshot-photo"><img src="${s.image}" alt="${s.codename}" loading="lazy"><div class="mugshot-ruler">${'<div class="ruler-line"></div>'.repeat(20)}</div></div><div class="mugshot-info"><div class="mugshot-rank"><span class="rank-num">#${s.rank}</span> RISK FACTOR: ${s.riskLevel}/100</div><div class="mugshot-name">${s.codename}</div><div style="display:flex;gap:4px;margin-top:6px;flex-wrap:wrap;">${(s.markets||[]).map(m=>`<span class="market-tag market-${m.toLowerCase()}">${m}</span>`).join('')}</div><div class="mugshot-episodes">${t} DOCUMENTED // ${s.status}</div><div class="mugshot-tags">${s.tags.slice(0,3).map(t=>`<span class="tag-sm">${t}</span>`).join('')}</div><div class="risk-meter"><span class="risk-meter-label">RISK</span><div class="risk-meter-bar"><div class="risk-meter-fill" style="width:${s.riskLevel}%;background:${riskColor}"></div></div><span class="risk-meter-val">${s.riskLevel}%</span></div><button class="mugshot-btn">‚óà OPEN DECLASSIFIED FILE</button></div>`;
  grid.appendChild(card)});

// ========== FILE MODAL ==========
// ========== MARKET FILTER ==========
function filterMarket(market){
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');
  const cards=document.querySelectorAll('.mugshot-card');
  cards.forEach((card,idx)=>{
    if(market==='ALL'){card.style.display='';return}
    const s=subjects[idx];
    if(s.markets&&s.markets.includes(market)){card.style.display=''}
    else{card.style.display='none'}
  });
}

// MEDIA + COMMENTS
function getMedia(ep, subjectCode, epIdx){
  let h='';
  if(ep.video)h+=`<div class="video-wrapper"><video controls preload="metadata" playsinline><source src="${ep.video}" type="video/mp4"></video></div>`;
  if(ep.reelUrl)h+=`<a href="${ep.reelUrl}" target="_blank" rel="noopener" class="reel-watch-link"><span class="icon">üìπ</span><span class="label">WATCH ON INSTAGRAM</span><span class="arrow">‚Üí</span></a>`;
  const commentId = `${subjectCode}_ep${epIdx}`;
  h+=`<div class="comments-section">
    <div class="comments-title">üí¨ ANONYMOUS COMMENTS</div>
    <div class="comment-form">
      <input class="comment-name" type="text" placeholder="Your name" id="cname_${commentId}">
      <input class="comment-input" type="text" placeholder="Drop a comment..." id="cinput_${commentId}" onkeydown="if(event.key==='Enter'){event.preventDefault();postComment('${commentId}')}">
      <button class="comment-btn" onclick="postComment('${commentId}')">POST</button>
    </div>
    <div class="comments-list" id="clist_${commentId}"><div class="comments-loading">Loading comments...</div></div>
  </div>`;
  return h;
}

function openFile(idx){
  const s=subjects[idx],ov=document.getElementById('modalOverlay'),ct=document.getElementById('fileContainer');
  const tv=s.episodes.reduce((a,e)=>a+e.evidence.length,0);
  const sc=s.codename.replace(/\s+/g,'_').toLowerCase();
  ct.innerHTML=`<div class="file-declassified-bar">DECLASSIFIED ‚Äî DOC# NT-${String(idx+1).padStart(3,'0')}</div><div class="file-header"><div class="file-mugshot"><img src="${s.image}" alt="${s.codename}"></div><div class="file-meta"><div class="file-subject-name">${s.codename}</div><div class="file-subject-sub">RANK #${s.rank} // RISK: ${s.riskLevel}% // ${s.episodes.length} EP${s.episodes.length>1?'S':''} // ${tv} EVIDENCE</div></div><button class="file-close" onclick="closeFile()">‚úï</button></div><div class="file-body">${s.episodes.map((ep,i)=>`<div class="episode-block"><div class="episode-header ${i===0?'open':''}" onclick="toggleEp(this)"><span class="episode-tag">${ep.title}</span><span class="episode-toggle">‚ñº</span></div><div class="episode-content ${i===0?'open':''}">${getMedia(ep,sc,i)}${ep.evidence.map(e=>`<div class="evidence-item"><span class="evidence-icon">${e.icon}</span><div class="evidence-text">${e.text}</div></div>`).join('')}</div></div>`).join('')}${s.connections.length?`<div class="connections-section"><div class="connections-title">‚óÜ CONNECTED SUBJECTS</div>${s.connections.map(c=>{const ci=subjects.findIndex(x=>x.codename===c);return ci>=0?`<span class="connection-tag" onclick="closeFile();setTimeout(()=>openFile(${ci}),400)">${c}</span>`:`<span class="connection-tag" style="opacity:.5;cursor:default">${c}</span>`}).join('')}</div>`:''}<div class="verdict-box"><div class="verdict-label">NOUR TRADES INTELLIGENCE VERDICT</div><div class="verdict-text">${s.verdict}</div></div></div>`;
  ov.classList.add('active');document.body.style.overflow='hidden';
  loadComments(`${sc}_ep0`);
}

function toggleEp(h){const c=h.nextElementSibling;if(c.classList.contains('open'))c.querySelectorAll('video').forEach(v=>v.pause());h.classList.toggle('open');c.classList.toggle('open');
  // Load comments when opening an episode
  if(c.classList.contains('open')){const cl=c.querySelector('.comments-list');if(cl&&cl.id){loadComments(cl.id.replace('clist_',''))}}
}
function closeFile(){document.querySelectorAll('.file-container video').forEach(v=>v.pause());document.getElementById('modalOverlay').classList.remove('active');document.body.style.overflow=''}
document.getElementById('modalOverlay').addEventListener('click',e=>{if(e.target===document.getElementById('modalOverlay'))closeFile()});
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeFile()});

// ========== COMMENTS SYSTEM ==========
async function loadComments(commentId){
  const list=document.getElementById('clist_'+commentId);
  if(!list)return;
  list.innerHTML='<div class="comments-loading">Loading...</div>';
  try{
    if(!supabaseClient){list.innerHTML='<div class="no-comments">Comments loading...</div>';return}
    const{data,error}=await supabaseClient.from('comments').select('*').eq('episode_id',commentId).order('created_at',{ascending:false}).limit(50);
    if(error)throw error;
    if(!data||data.length===0){list.innerHTML='<div class="no-comments">No comments yet. Be the first.</div>';return}
    list.innerHTML=data.map(c=>{
      const t=new Date(c.created_at);
      const ago=timeAgo(t);
      return`<div class="comment-item"><div class="comment-author">${escHtml(c.author_name)}<span class="comment-time">${ago}</span></div><div class="comment-text">${escHtml(c.comment_text)}</div></div>`
    }).join('');
  }catch(e){list.innerHTML='<div class="no-comments">Could not load comments.</div>'}
}

async function postComment(commentId){
  const nameEl=document.getElementById('cname_'+commentId);
  const inputEl=document.getElementById('cinput_'+commentId);
  const name=nameEl.value.trim()||'Anonymous';
  const text=inputEl.value.trim();
  if(!text)return;
  const btn=inputEl.parentElement.querySelector('.comment-btn');
  btn.disabled=true;btn.textContent='POSTING...';
  try{
    if(!supabaseClient)throw new Error('Not connected');
    const{error}=await supabaseClient.from('comments').insert({episode_id:commentId,author_name:name,comment_text:text});
    if(error)throw error;
    inputEl.value='';
    await loadComments(commentId);
  }catch(e){console.error(e)}
  btn.disabled=false;btn.textContent='POST';
}

function escHtml(s){const d=document.createElement('div');d.textContent=s;return d.innerHTML}

function timeAgo(date){
  const s=Math.floor((Date.now()-date.getTime())/1000);
  if(s<60)return'just now';
  if(s<3600)return Math.floor(s/60)+'m ago';
  if(s<86400)return Math.floor(s/3600)+'h ago';
  return Math.floor(s/86400)+'d ago';
}

// ========== WHISTLEBLOWER ‚Äî SUPABASE ==========
const fd=document.getElementById('fileDrop'),fi=document.getElementById('fileInput'),fl=document.getElementById('fileList');
fd.addEventListener('dragover',e=>{e.preventDefault();fd.classList.add('dragover')});
fd.addEventListener('dragleave',()=>fd.classList.remove('dragover'));
fd.addEventListener('drop',e=>{e.preventDefault();fd.classList.remove('dragover');fi.files=e.dataTransfer.files;updateFL()});
fi.addEventListener('change',updateFL);
function updateFL(){const f=fi.files;fl.textContent=f.length?`${f.length} file${f.length>1?'s':''} selected`:'';}

document.getElementById('wbForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  
  const btn = document.getElementById('wbSubmitBtn');
  const errEl = document.getElementById('wbError');
  errEl.classList.remove('show');
  btn.disabled = true;
  btn.classList.add('loading');

  try {
    if (!supabaseClient) throw new Error('Connection not ready. Please wait a moment and try again.');

    // 1. Upload proof files to Supabase Storage
    const proofUrls = [];
    const files = document.getElementById('fileInput').files;
    
    if (files.length > 0) {
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        const timestamp = Date.now();
        const safeName = file.name.replace(/[^a-zA-Z0-9._-]/g, '_');
        const filePath = `submissions/${timestamp}_${safeName}`;
        
        const { data, error } = await supabaseClient.storage
          .from('whistleblower-proof')
          .upload(filePath, file);
        
        if (error) {
          console.error('Upload error:', error);
          continue;
        }
        
        const { data: urlData } = supabaseClient.storage
          .from('whistleblower-proof')
          .getPublicUrl(filePath);
        
        if (urlData?.publicUrl) {
          proofUrls.push(urlData.publicUrl);
        }
      }
    }

    // 2. Insert submission into database
    const { error: insertError } = await supabaseClient
      .from('whistleblower_submissions')
      .insert({
        influencer_name: document.getElementById('wbName').value.trim(),
        social_media: document.getElementById('wbSocial').value.trim(),
        scam_amount: document.getElementById('wbAmount').value.trim(),
        scam_description: document.getElementById('wbDescription').value.trim(),
        proof_urls: proofUrls,
        crypto_wallet: document.getElementById('wbWallet').value.trim()
      });

    if (insertError) throw insertError;

    // 3. Show success
    document.getElementById('wbForm').style.display = 'none';
    document.getElementById('wbSuccess').classList.add('show');

  } catch (err) {
    console.error('Submission error:', err);
    errEl.textContent = '‚ö† TRANSMISSION FAILED ‚Äî Please try again. Error: ' + (err.message || 'Unknown error');
    errEl.classList.add('show');
    btn.disabled = false;
    btn.classList.remove('loading');
  }
});
// ========== EMAIL SIGNUP ==========
document.getElementById('emailForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const btn = document.getElementById('emailBtn');
  const errEl = document.getElementById('emailError');
  const email = document.getElementById('emailInput').value.trim();
  errEl.style.display = 'none';
  btn.disabled = true;
  btn.textContent = 'TRANSMITTING...';

  try {
    if (!supabaseClient) throw new Error('Connection not ready. Try again in a moment.');
    const { error } = await supabaseClient.from('email_subscribers').insert({ email: email });
    if (error) throw error;
    document.getElementById('emailForm').style.display = 'none';
    document.getElementById('emailSuccess').style.display = 'block';
  } catch (err) {
    errEl.textContent = '‚ö† ' + (err.message || 'Failed. Try again.');
    errEl.style.display = 'block';
    btn.disabled = false;
    btn.textContent = 'SUBSCRIBE';
  }
});

// TOP EMAIL POPUP (5 seconds after boot finishes)
function triggerPopup(){
  if (!sessionStorage.getItem('popupShown')) {
    setTimeout(function(){
      document.getElementById('emailPopup').classList.add('active');
      sessionStorage.setItem('popupShown', '1');
    }, 5000);
  }
}

function closePopup(){
  document.getElementById('emailPopup').classList.remove('active');
}
document.getElementById('emailPopup').addEventListener('click', function(e){
  if(e.target === document.getElementById('emailPopup')) closePopup();
});

document.getElementById('popupForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const btn = document.getElementById('popupBtn');
  btn.disabled = true;
  btn.textContent = 'TRANSMITTING...';

  try {
    if (!supabaseClient) throw new Error('Not ready');
    const { error } = await supabaseClient.from('email_subscribers').insert({
      first_name: document.getElementById('popupFirst').value.trim(),
      last_name: document.getElementById('popupLast').value.trim(),
      email: document.getElementById('popupEmail').value.trim()
    });
    if (error) throw error;
    document.getElementById('popupFormWrap').style.display = 'none';
    document.getElementById('popupSuccess').classList.add('show');
    setTimeout(closePopup, 3000);
  } catch (err) {
    btn.disabled = false;
    btn.textContent = 'GET INTEL UPDATES';
  }
});
</script>
</body>
</html>
