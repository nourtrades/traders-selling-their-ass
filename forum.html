<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TRADERS FORUM // TSA INTELLIGENCE</title>
<script defer src="/_vercel/insights/script.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XLYG9PBFK7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-XLYG9PBFK7');</script>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Teko:wght@700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--matrix-green:#ffffff;--matrix-dark:#333333;--matrix-mid:#cccccc;--cod-orange:#00ff41;--cod-red:#ff1744;--cod-yellow:#ffd600;--bg-black:#0a0a0a;--panel-bg:rgba(10,10,10,0.85)}
body{background:var(--bg-black);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;overflow-x:hidden}
canvas{position:fixed;top:0;left:0;z-index:0;opacity:.08}
.site-nav{display:flex;align-items:center;justify-content:space-between;padding:0 20px;background:rgba(10,10,10,.9);border-bottom:1px solid var(--matrix-dark);position:sticky;top:0;z-index:100;backdrop-filter:blur(10px);height:48px}
.site-nav-brand{font-family:'Orbitron',sans-serif;font-size:12px;letter-spacing:3px;color:var(--matrix-green);text-decoration:none;white-space:nowrap}
.site-nav-logo{height:32px;width:auto;margin-right:6px}
.site-nav-links{display:flex;gap:4px;align-items:center}
.site-nav-link{font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;color:var(--matrix-mid);text-decoration:none;padding:6px 12px;border:1px solid transparent;transition:all .2s;white-space:nowrap}
.site-nav-link:hover{color:var(--matrix-green);border-color:var(--matrix-dark);background:rgba(255,255,255,.03)}
.site-nav-link.active{color:var(--matrix-green);border-color:var(--matrix-green);background:rgba(255,255,255,.05)}
.site-nav-toggle{display:none;background:none;border:1px solid var(--matrix-dark);color:var(--matrix-green);font-size:18px;padding:4px 8px;cursor:pointer}
@media(max-width:768px){
  .site-nav-links{display:none;position:absolute;top:48px;left:0;right:0;background:rgba(10,10,10,.95);border-bottom:1px solid var(--matrix-green);flex-direction:column;padding:8px 0;backdrop-filter:blur(10px)}
  .site-nav-links.open{display:flex}
  .site-nav-link{padding:12px 20px;width:100%;text-align:left;border:none;border-bottom:1px solid rgba(255,255,255,.05)}
  .site-nav-toggle{display:block}
}
.page-header{text-align:center;padding:25px 20px 15px;position:relative;z-index:1}
.page-title{font-family:'Teko',sans-serif;font-weight:700;font-size:clamp(32px,6vw,56px);letter-spacing:6px;color:var(--cod-yellow)}
.page-sub{font-family:'Rajdhani',sans-serif;font-size:13px;color:var(--matrix-mid);letter-spacing:3px;margin-top:4px}
.forum-section{max-width:800px;margin:0 auto;padding:0 15px 40px;position:relative;z-index:1}
.forum-tabs{display:flex;border:1px solid var(--matrix-dark);margin-bottom:15px;border-radius:4px;overflow:hidden}
.forum-tab{flex:1;text-align:center;padding:10px;font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;color:var(--matrix-mid);cursor:pointer;border-right:1px solid var(--matrix-dark);transition:all .2s}
.forum-tab:last-child{border-right:none}
.forum-tab:hover{background:rgba(255,255,255,.03)}
.forum-tab.active{background:rgba(255,255,255,.08);color:var(--matrix-green);border-bottom:2px solid var(--cod-yellow)}
.compose-box{background:rgba(255,255,255,.03);border:1px solid var(--matrix-dark);border-radius:4px;padding:15px;margin-bottom:20px}
.compose-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.compose-label{font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:2px;color:var(--matrix-mid)}
.compose-login{font-size:9px;color:var(--cod-orange);text-decoration:none;border:1px solid var(--cod-orange);padding:3px 8px;font-family:'Orbitron',sans-serif;letter-spacing:1px}
.compose-title{width:100%;background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:14px;padding:10px 12px;outline:none;margin-bottom:8px;border-radius:2px}
.compose-body{width:100%;background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:13px;padding:10px 12px;outline:none;resize:vertical;min-height:60px;border-radius:2px}
.compose-title:focus,.compose-body:focus{border-color:var(--cod-yellow)}
.compose-title::placeholder,.compose-body::placeholder{color:rgba(255,255,255,.2)}
.compose-footer{display:flex;justify-content:flex-end;margin-top:10px}
.compose-btn{background:var(--cod-yellow);color:#000;border:none;font-family:'Orbitron',sans-serif;font-size:10px;letter-spacing:2px;padding:8px 20px;cursor:pointer;font-weight:700;border-radius:2px;transition:all .2s}
.compose-btn:hover{background:#fff}
.post{background:rgba(255,255,255,.03);border:1px solid var(--matrix-dark);border-radius:4px;margin-bottom:10px;transition:border-color .2s}
.post:hover{border-color:rgba(255,255,255,.15)}
.post-main{padding:15px}
.post-meta{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.post-author{font-size:12px;color:var(--cod-orange);font-weight:bold}
.post-author a{color:var(--cod-orange);text-decoration:none}
.post-author a:hover{text-decoration:underline}
.badge-anon{font-size:8px;background:rgba(255,255,255,.1);color:var(--matrix-mid);padding:2px 5px;letter-spacing:1px;border-radius:2px}
.badge-verified{font-size:8px;background:rgba(0,255,65,.15);color:#00ff41;padding:2px 5px;letter-spacing:1px;border-radius:2px}
.post-time{font-size:10px;color:var(--matrix-mid)}
.post-title{font-family:'Rajdhani',sans-serif;font-size:20px;font-weight:700;color:#fff;margin-bottom:4px;line-height:1.3}
.post-body{font-size:13px;color:rgba(255,255,255,.6);line-height:1.7;margin-top:4px}
.post-actions{display:flex;gap:15px;margin-top:10px;padding-top:8px;border-top:1px solid rgba(255,255,255,.05)}
.post-action{font-size:10px;color:var(--matrix-mid);cursor:pointer;transition:color .2s;background:none;border:none;font-family:'Share Tech Mono',monospace;letter-spacing:1px}
.post-action:hover{color:var(--matrix-green)}
.replies{border-top:1px solid var(--matrix-dark);background:rgba(0,0,0,.2);padding:0 15px}
.reply{padding:10px 0;border-bottom:1px solid rgba(255,255,255,.04)}
.reply:last-child{border-bottom:none}
.reply-meta{display:flex;align-items:center;gap:8px;margin-bottom:4px}
.reply-author{font-size:11px;color:var(--cod-orange)}
.reply-author a{color:var(--cod-orange);text-decoration:none}
.reply-time{font-size:9px;color:var(--matrix-mid)}
.reply-text{font-size:12px;color:rgba(255,255,255,.7);line-height:1.6}
.reply-form{display:none;padding:10px 0}
.reply-form.show{display:flex;gap:8px}
.reply-input{flex:1;background:rgba(0,0,0,.5);border:1px solid var(--matrix-dark);color:var(--matrix-green);font-family:'Share Tech Mono',monospace;font-size:12px;padding:8px 10px;outline:none;border-radius:2px}
.reply-input:focus{border-color:var(--cod-yellow)}
.reply-input::placeholder{color:rgba(255,255,255,.2)}
.reply-btn{background:var(--cod-yellow);color:#000;border:none;font-family:'Orbitron',sans-serif;font-size:8px;letter-spacing:1px;padding:8px 14px;cursor:pointer;font-weight:700;border-radius:2px}
.forum-empty{text-align:center;padding:40px;color:var(--matrix-mid);font-size:13px;letter-spacing:2px}
.footer{text-align:center;padding:30px 20px;font-size:10px;color:var(--matrix-dark);letter-spacing:3px;position:relative;z-index:1}
@media(max-width:600px){
  .post-title{font-size:16px}
  .compose-title{font-size:13px}
}
</style>
</head>
<body>
<canvas id="c"></canvas>
<nav class="site-nav">
  <a href="/" class="site-nav-brand"><img src="/logo.png" alt="TSA" class="site-nav-logo"></a>
  <div class="site-nav-links">
    <a href="/" class="site-nav-link">üìÅ DOSSIERS</a>
    <a href="/quiz.html" class="site-nav-link">üîç QUIZ</a>
    <a href="/forum.html" class="site-nav-link active">üí¨ FORUM</a>
    <a href="/report.html" class="site-nav-link">üõ°Ô∏è REPORT</a>
    <a href="https://whop.com/stock-hours/stock-hours/?utm_source=store_page&funnelId=store_1a22da23-8ba1-44d6-a2c3-dea287a26d22" target="_blank" rel="noopener" class="site-nav-link">üí¨ DISCORD</a>
    <a href="https://vanquish.stockhoursllc.com/nour" target="_blank" rel="noopener" class="site-nav-link" style="color:#00ff41;border-color:#00ff41">üìà VANQUISH</a>
    <a href="/login.html" class="site-nav-link" id="navAuth">üë§ LOGIN</a>
  </div>
  <button class="site-nav-toggle" onclick="document.querySelector('.site-nav-links').classList.toggle('open')">‚ò∞</button>
</nav>
<div class="page-header">
  <div class="page-title">TRADERS FORUM</div>
  <div class="page-sub">Discuss stocks, forex, crypto ‚Äî call out scammers. Anonymous. Uncensored.</div>
</div>
<div class="forum-section">
  <div class="forum-tabs">
    <div class="forum-tab active" onclick="switchForum('stocks')" id="ftab_stocks">üìä STOCKS</div>
    <div class="forum-tab" onclick="switchForum('forex')" id="ftab_forex">üí± FOREX</div>
    <div class="forum-tab" onclick="switchForum('crypto')" id="ftab_crypto">ü™ô CRYPTO</div>
    <div class="forum-tab" onclick="switchForum('general')" id="ftab_general">üí¨ GENERAL</div>
  </div>
  <div class="compose-box">
    <div class="compose-header">
      <span class="compose-label" id="composeLabel">POSTING ANONYMOUSLY</span>
      <a href="/login.html" class="compose-login" id="composeAuth">LOGIN FOR IDENTITY ‚Üí</a>
    </div>
    <input class="compose-title" type="text" placeholder="Title ‚Äî what's the topic?" id="postTitle" maxlength="120">
    <textarea class="compose-body" placeholder="Description (optional)" id="postBody" rows="3" maxlength="2000"></textarea>
    <div class="compose-footer">
      <button class="compose-btn" onclick="submitPost()">POST</button>
    </div>
  </div>
  <div id="forumPosts"><div class="forum-empty">Loading discussions...</div></div>
</div>
<div class="footer">TSA INTELLIGENCE DIVISION // TRADERSSELLINGASS.COM</div>
<script>
var ch='0123456789ABCDEFabcdef$%&';var c=document.getElementById('c'),ctx=c.getContext('2d');c.width=window.innerWidth;c.height=window.innerHeight;var fs=14,dr=[];for(var i=0;i<Math.ceil(c.width/fs);i++)dr[i]=Math.random()*c.height/fs;
function dm(){ctx.fillStyle='rgba(0,0,0,0.05)';ctx.fillRect(0,0,c.width,c.height);ctx.fillStyle='#00ff41';ctx.font=fs+'px monospace';for(var i=0;i<dr.length;i++){ctx.fillText(ch[~~(Math.random()*ch.length)],i*fs,dr[i]*fs);if(dr[i]*fs>c.height&&Math.random()>.975)dr[i]=0;dr[i]++}}
setInterval(dm,50);window.addEventListener('resize',function(){c.width=window.innerWidth;c.height=window.innerHeight});
</script>
<script>
var SUPABASE_URL='https://kjeqzwfxtshgerzkaiqg.supabase.co';
var SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqZXF6d2Z4dHNoZ2VyemthaXFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4OTcyNTEsImV4cCI6MjA4NzQ3MzI1MX0.nypjzpnw2hvRWpQ-KxJQvpecDZSiruG5Bm5ixWbSD0I';
var sb=null,currentUser=null,currentProfile=null;

(function(){var s=document.createElement('script');s.src='https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';s.onload=async function(){
  sb=window.supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);
  var sess=await sb.auth.getSession();
  if(sess.data.session){
    currentUser=sess.data.session.user;
    var pr=await sb.from('profiles').select('*').eq('id',currentUser.id).single();
    currentProfile=pr.data;
    document.getElementById('composeLabel').textContent='POSTING AS: '+(currentProfile?currentProfile.display_name:'Agent');
    document.getElementById('composeLabel').style.color='#ffd600';
    document.getElementById('composeAuth').textContent='PROFILE';
    document.getElementById('composeAuth').href='/profile.html';
  }
  loadPosts();
};document.head.appendChild(s)})();

var currentForum='stocks';
function switchForum(ch){currentForum=ch;document.querySelectorAll('.forum-tab').forEach(function(t){t.classList.remove('active')});document.getElementById('ftab_'+ch).classList.add('active');loadPosts()}
function escHtml(s){if(!s)return'';var d=document.createElement('div');d.textContent=s;return d.innerHTML}
function timeAgo(ts){var d=Math.floor((Date.now()-new Date(ts).getTime())/1000);if(d<60)return'just now';if(d<3600)return Math.floor(d/60)+'m ago';if(d<86400)return Math.floor(d/3600)+'h ago';return Math.floor(d/86400)+'d ago'}
function genAnonName(){return'ANON-'+'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'.split('').sort(function(){return .5-Math.random()}).slice(0,4).join('')}

async function loadPosts(){
  var container=document.getElementById('forumPosts');
  container.innerHTML='<div class="forum-empty">Loading...</div>';
  try{
    if(!sb)throw new Error('Loading');
    var resp=await sb.from('forum_posts').select('*').eq('channel',currentForum).is('parent_id',null).order('created_at',{ascending:false}).limit(50);
    if(resp.error)throw resp.error;
    var posts=resp.data||[];
    if(!posts.length){container.innerHTML='<div class="forum-empty">No discussions yet. Be the first to start one.</div>';return}
    var postIds=posts.map(function(p){return p.id});
    var repliesResp=await sb.from('forum_posts').select('*').in('parent_id',postIds).order('created_at',{ascending:true});
    var allReplies=repliesResp.data||[];
    var replyMap={};allReplies.forEach(function(r){if(!replyMap[r.parent_id])replyMap[r.parent_id]=[];replyMap[r.parent_id].push(r)});
    var likesResp=await sb.from('forum_likes').select('post_id').in('post_id',postIds);
    var likeCounts={};(likesResp.data||[]).forEach(function(l){likeCounts[l.post_id]=(likeCounts[l.post_id]||0)+1});
    var html='';
    posts.forEach(function(p){
      var replies=replyMap[p.id]||[];
      var likes=likeCounts[p.id]||0;
      var isAnon=!p.user_id||p.is_anonymous;
      var authorHtml=isAnon?
        '<span class="post-author">'+escHtml(p.author_name)+'</span><span class="badge-anon">ANON</span>':
        '<span class="post-author"><a href="/profile.html?id='+p.user_id+'">'+escHtml(p.author_name)+'</a></span><span class="badge-verified">‚úì VERIFIED</span>';
      html+='<div class="post"><div class="post-main">';
      html+='<div class="post-meta">'+authorHtml+'<span class="post-time">'+timeAgo(p.created_at)+'</span></div>';
      html+='<div class="post-title">'+escHtml(p.title||p.body||'')+'</div>';
      if(p.body&&p.title)html+='<div class="post-body">'+escHtml(p.body)+'</div>';
      html+='<div class="post-actions">';
      html+='<button class="post-action" onclick="likePost(\''+p.id+'\')">‚ñ≤ '+likes+'</button>';
      html+='<button class="post-action" onclick="toggleReply(\''+p.id+'\')">üí¨ '+replies.length+' REPLIES</button>';
      if(currentUser&&p.user_id===currentUser.id)html+='<button class="post-action" style="color:var(--cod-red)" onclick="deletePost(\''+p.id+'\')">üóë DELETE</button>';
      html+='</div></div>';
      html+='<div class="replies" id="replies_'+p.id+'">';
      replies.forEach(function(r){
        var rAnon=!r.user_id||r.is_anonymous;
        var rAuthor=rAnon?
          '<span class="reply-author">'+escHtml(r.author_name)+'</span><span class="badge-anon">ANON</span>':
          '<span class="reply-author"><a href="/profile.html?id='+r.user_id+'">'+escHtml(r.author_name)+'</a></span><span class="badge-verified">‚úì</span>';
        html+='<div class="reply"><div class="reply-meta">'+rAuthor+'<span class="reply-time">'+timeAgo(r.created_at)+'</span></div>';
        html+='<div class="reply-text">'+escHtml(r.body||r.title||'')+'</div></div>';
      });
      html+='<div class="reply-form" id="freply_'+p.id+'">';
      html+='<input class="reply-input" type="text" placeholder="Write a reply..." id="freply_input_'+p.id+'" maxlength="1000" onkeydown="if(event.key===\'Enter\'){event.preventDefault();postReply(\''+p.id+'\')}">';
      html+='<button class="reply-btn" onclick="postReply(\''+p.id+'\')">REPLY</button>';
      html+='</div></div></div>';
    });
    container.innerHTML=html;
  }catch(e){container.innerHTML='<div class="forum-empty">Could not load posts. Try again later.</div>';console.error(e)}
}

async function submitPost(){
  var title=document.getElementById('postTitle').value.trim();
  var body=document.getElementById('postBody').value.trim();
  if(!title){document.getElementById('postTitle').style.borderColor='var(--cod-red)';return}
  document.getElementById('postTitle').style.borderColor='';
  var name,uid,isAnon;
  if(currentUser&&currentProfile){name=currentProfile.display_name;uid=currentUser.id;isAnon=false}
  else{name=genAnonName();uid=null;isAnon=true}
  try{
    var r=await sb.from('forum_posts').insert({channel:currentForum,author_name:name,title:title,body:body||null,parent_id:null,user_id:uid,is_anonymous:isAnon});
    if(r.error)throw r.error;
    document.getElementById('postTitle').value='';
    document.getElementById('postBody').value='';
    loadPosts();
  }catch(e){alert('Could not post: '+e.message);console.error(e)}
}

async function postReply(parentId){
  var input=document.getElementById('freply_input_'+parentId),body=input.value.trim();
  if(!body)return;
  var name,uid,isAnon;
  if(currentUser&&currentProfile){name=currentProfile.display_name;uid=currentUser.id;isAnon=false}
  else{name=genAnonName();uid=null;isAnon=true}
  try{
    var r=await sb.from('forum_posts').insert({channel:currentForum,author_name:name,title:null,body:body,parent_id:parentId,user_id:uid,is_anonymous:isAnon});
    if(r.error)throw r.error;
    input.value='';
    loadPosts();
  }catch(e){alert('Could not reply: '+e.message);console.error(e)}
}

function toggleReply(id){var f=document.getElementById('freply_'+id);f.classList.toggle('show');if(f.classList.contains('show'))f.querySelector('input').focus()}
async function likePost(id){try{await sb.from('forum_likes').insert({post_id:id});loadPosts()}catch(e){}}

async function deletePost(id){
  if(!confirm('Delete this post?'))return;
  try{
    await sb.from('forum_posts').delete().eq('parent_id',id);
    await sb.from('forum_likes').delete().eq('post_id',id);
    await sb.from('forum_posts').delete().eq('id',id);
    loadPosts();
  }catch(e){alert('Could not delete: '+e.message)}
}
</script>
<script>
(function checkAuth(){
  var iv=setInterval(function(){
    if(!window.supabase)return;
    clearInterval(iv);
    var url="https://kjeqzwfxtshgerzkaiqg.supabase.co";
    var key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtqZXF6d2Z4dHNoZ2VyemthaXFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc3NjQ2NjMsImV4cCI6MjA1MzM0MDY2M30.wmQ7AJyGFRhMIhCb3lHGBqMPNzDkEGOr_NKAJ6v1bSQ";
    var s=window.supabase.createClient(url,key);
    s.auth.getSession().then(function(r){
      if(r.data.session){
        var el=document.getElementById("navAuth");
        if(el){el.href="/profile.html";el.textContent="\u{1f464} PROFILE"}
      }
    });
  },100);
})();
</script>
</body>
</html>
